---
title: core/tcpmessage.cpp File Reference
layout: default
---
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4270bfced15e0e73154b13468c7c9ad9.html">core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">tcpmessage.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;functional&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;boost/asio.hpp&gt;</code><br />
<code>#include &lt;mutex&gt;</code><br />
<code>#include &lt;<a class="el" href="tools_8h_source.html">vistle/util/tools.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="buffer_8h_source.html">vistle/util/buffer.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="tcpmessage_8h_source.html">tcpmessage.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="message_8h_source.html">message.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="messages_8h_source.html">messages.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="messagepayload_8h_source.html">messagepayload.h</a>&quot;</code><br />
<code>#include &lt;deque&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tcpmessage.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="tcpmessage_8cpp__incl.png" border="0" usemap="#acore_2tcpmessage_8cpp" alt=""/></div>
<map name="acore_2tcpmessage_8cpp" id="acore_2tcpmessage_8cpp">
<area shape="rect" title=" " alt="" coords="609,5,756,32"/>
<area shape="rect" title=" " alt="" coords="4904,833,4976,859"/>
<area shape="rect" title=" " alt="" coords="4617,80,4695,107"/>
<area shape="rect" title=" " alt="" coords="212,989,281,1016"/>
<area shape="rect" title=" " alt="" coords="4720,80,4827,107"/>
<area shape="rect" title=" " alt="" coords="1024,415,1083,442"/>
<area shape="rect" href="tools_8h.html" title=" " alt="" coords="1765,594,1883,621"/>
<area shape="rect" href="buffer_8h.html" title=" " alt="" coords="274,833,395,859"/>
<area shape="rect" href="tcpmessage_8h.html" title=" " alt="" coords="265,162,369,189"/>
<area shape="rect" href="messagepayload_8h.html" title=" " alt="" coords="413,251,544,278"/>
<area shape="rect" href="message_8h.html" title=" " alt="" coords="671,505,758,531"/>
<area shape="rect" href="messages_8h.html" title=" " alt="" coords="2652,80,2745,107"/>
<area shape="rect" title=" " alt="" coords="4851,80,4909,107"/>
<area shape="rect" title=" " alt="" coords="1897,915,1951,941"/>
<area shape="rect" href="util_2export_8h.html" title=" " alt="" coords="1843,676,1912,703"/>
<area shape="rect" href="allocator_8h.html" title=" " alt="" coords="205,915,288,941"/>
<area shape="rect" title=" " alt="" coords="4959,915,5017,941"/>
<area shape="rect" title=" " alt="" coords="246,251,389,278"/>
<area shape="rect" title=" " alt="" coords="1576,833,1645,859"/>
<area shape="rect" href="shm_8h.html" title=" " alt="" coords="2092,333,2151,360"/>
<area shape="rect" title=" " alt="" coords="1340,751,1391,777"/>
<area shape="rect" title=" " alt="" coords="3012,676,3073,703"/>
<area shape="rect" title=" " alt="" coords="1721,676,1767,703"/>
<area shape="rect" href="boost__interprocess__config_8h.html" title=" " alt="" coords="1766,497,1954,539"/>
<area shape="rect" title=" " alt="" coords="2257,408,2407,449"/>
<area shape="rect" title=" " alt="" coords="2432,408,2579,449"/>
<area shape="rect" title=" " alt="" coords="2603,408,2743,449"/>
<area shape="rect" title=" " alt="" coords="1581,408,1784,449"/>
<area shape="rect" title=" " alt="" coords="1809,415,1885,442"/>
<area shape="rect" href="archives__config_8h.html" title=" " alt="" coords="3302,751,3426,777"/>
<area shape="rect" href="index_8h.html" title=" " alt="" coords="3981,833,4045,859"/>
<area shape="rect" href="exception_8h.html" title=" " alt="" coords="1907,594,2053,621"/>
<area shape="rect" href="shmname_8h.html" title=" " alt="" coords="1161,676,1252,703"/>
<area shape="rect" href="shmdata_8h.html" title=" " alt="" coords="2664,594,2747,621"/>
<area shape="rect" href="shm__reference_8h.html" title=" " alt="" coords="2062,415,2181,442"/>
<area shape="rect" href="shm__impl_8h.html" title=" " alt="" coords="3185,415,3274,442"/>
<area shape="rect" title=" " alt="" coords="2179,587,2333,628"/>
<area shape="rect" title=" " alt="" coords="2038,833,2103,859"/>
<area shape="rect" title=" " alt="" coords="3782,915,3842,941"/>
<area shape="rect" href="enum_8h.html" title=" " alt="" coords="5879,833,6001,859"/>
<area shape="rect" title=" " alt="" coords="3747,833,3906,859"/>
<area shape="rect" title=" " alt="" coords="2128,833,2291,859"/>
<area shape="rect" title=" " alt="" coords="2315,833,2435,859"/>
<area shape="rect" title=" " alt="" coords="2459,833,2602,859"/>
<area shape="rect" title=" " alt="" coords="2627,825,2763,867"/>
<area shape="rect" title=" " alt="" coords="2787,825,2914,867"/>
<area shape="rect" title=" " alt="" coords="2938,825,3067,867"/>
<area shape="rect" title=" " alt="" coords="3092,833,3199,859"/>
<area shape="rect" title=" " alt="" coords="3223,833,3353,859"/>
<area shape="rect" title=" " alt="" coords="3377,833,3503,859"/>
<area shape="rect" title=" " alt="" coords="3528,833,3672,859"/>
<area shape="rect" title=" " alt="" coords="5861,915,6019,941"/>
<area shape="rect" title=" " alt="" coords="3971,915,4045,941"/>
<area shape="rect" title=" " alt="" coords="1987,676,2066,703"/>
<area shape="rect" href="shm__array_8h.html" title=" " alt="" coords="2869,505,2963,531"/>
<area shape="rect" title=" " alt="" coords="2081,497,2210,539"/>
<area shape="rect" title=" " alt="" coords="2955,594,3016,621"/>
<area shape="rect" title=" " alt="" coords="3040,594,3123,621"/>
<area shape="rect" title=" " alt="" coords="2987,505,3131,531"/>
<area shape="rect" title=" " alt="" coords="4773,676,4902,703"/>
<area shape="rect" title=" " alt="" coords="1355,594,1487,621"/>
<area shape="rect" title=" " alt="" coords="3155,505,3325,531"/>
<area shape="rect" href="scalars_8h.html" title=" " alt="" coords="1464,505,1539,531"/>
<area shape="rect" href="celltreenode_8h.html" title=" " alt="" coords="3705,594,3807,621"/>
<area shape="rect" title=" " alt="" coords="1269,594,1331,621"/>
<area shape="rect" href="ssize__t_8h.html" title=" " alt="" coords="2091,676,2221,703"/>
<area shape="rect" title=" " alt="" coords="5161,676,5305,703"/>
<area shape="rect" href="scalar_8h.html" title=" " alt="" coords="5431,676,5499,703"/>
<area shape="rect" href="directory_8h.html" title=" " alt="" coords="955,594,1093,621"/>
<area shape="rect" href="uuid_8h.html" title=" " alt="" coords="2771,594,2829,621"/>
<area shape="rect" title=" " alt="" coords="2677,676,2811,703"/>
<area shape="rect" title=" " alt="" coords="2836,676,2988,703"/>
<area shape="rect" title=" " alt="" coords="2449,676,2653,703"/>
<area shape="rect" title=" " alt="" coords="2345,162,2516,189"/>
<area shape="rect" title=" " alt="" coords="2540,155,2687,196"/>
<area shape="rect" title=" " alt="" coords="2711,155,2857,196"/>
<area shape="rect" href="object_8h.html" title=" " alt="" coords="2882,162,2950,189"/>
<area shape="rect" href="parameter_8h.html" title=" " alt="" coords="5695,415,5785,442"/>
<area shape="rect" href="paramvector_8h.html" title=" " alt="" coords="5138,505,5243,531"/>
<area shape="rect" href="sysdep_8h.html" title=" " alt="" coords="2408,594,2539,621"/>
<area shape="rect" title=" " alt="" coords="1430,244,1559,285"/>
<area shape="rect" href="objectmeta_8h.html" title=" " alt="" coords="3618,251,3715,278"/>
<area shape="rect" href="vector_8h.html" title=" " alt="" coords="4257,594,4327,621"/>
<area shape="rect" href="dimensions_8h.html" title=" " alt="" coords="5004,594,5103,621"/>
<area shape="rect" title=" " alt="" coords="4611,751,4669,777"/>
<area shape="rect" href="math_8h.html" title=" " alt="" coords="4630,676,4749,703"/>
<area shape="rect" title=" " alt="" coords="4059,676,4189,703"/>
<area shape="rect" title=" " alt="" coords="4213,676,4371,703"/>
<area shape="rect" title=" " alt="" coords="4395,676,4554,703"/>
<area shape="rect" title=" " alt="" coords="5129,751,5204,777"/>
<area shape="rect" title=" " alt="" coords="4978,676,5137,703"/>
<area shape="rect" title=" " alt="" coords="5828,505,5897,531"/>
<area shape="rect" title=" " alt="" coords="5921,505,5975,531"/>
<area shape="rect" title=" " alt="" coords="5999,505,6151,531"/>
<area shape="rect" title=" " alt="" coords="5279,594,5348,621"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacevistle"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevistle.html">vistle</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacevistle_1_1message"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevistle_1_1message.html">vistle::message</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8adfd9e4460fd427c10b1fb3f774f762"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcpmessage_8cpp.html#a8adfd9e4460fd427c10b1fb3f774f762">PRINT_MESSAGE_TYPE</a></td></tr>
<tr class="separator:a8adfd9e4460fd427c10b1fb3f774f762"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7f952fcd1bdf27d89139f28a60d1a820"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevistle_1_1message.html#a7f952fcd1bdf27d89139f28a60d1a820">vistle::message::SizeType</a></td></tr>
<tr class="separator:a7f952fcd1bdf27d89139f28a60d1a820"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af4b564d27dc65e57adec9be3ead26dad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevistle_1_1message.html#af4b564d27dc65e57adec9be3ead26dad">vistle::message::return_buffer</a> (std::shared_ptr&lt; buffer &gt; &amp;buf)</td></tr>
<tr class="separator:af4b564d27dc65e57adec9be3ead26dad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb9dc2e7ab76f982e6e1bf3be9945846"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; buffer &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevistle_1_1message.html#aeb9dc2e7ab76f982e6e1bf3be9945846">vistle::message::get_buffer</a> (size_t size)</td></tr>
<tr class="separator:aeb9dc2e7ab76f982e6e1bf3be9945846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b167b7732bc5e163a978157b5f35ff"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevistle_1_1message.html#ac6b167b7732bc5e163a978157b5f35ff">vistle::message::recv_payload</a> (socket_t &amp;sock, message::Buffer &amp;msg, error_code &amp;ec, buffer *payload)</td></tr>
<tr class="separator:ac6b167b7732bc5e163a978157b5f35ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d7de5caf258f1ffc2354ed71868c065"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevistle_1_1message.html#a0d7de5caf258f1ffc2354ed71868c065">vistle::message::recv_message</a> (socket_t &amp;sock, message::Buffer &amp;msg, error_code &amp;ec, bool block)</td></tr>
<tr class="separator:a0d7de5caf258f1ffc2354ed71868c065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a859caea70d08aeb4907b31d329a523fb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevistle_1_1message.html#a859caea70d08aeb4907b31d329a523fb">vistle::message::recv</a> (socket_t &amp;sock, message::Buffer &amp;msg, error_code &amp;ec, bool block, buffer *payload)</td></tr>
<tr class="separator:a859caea70d08aeb4907b31d329a523fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a199b86f2300c508902839cfec0f0ba24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevistle_1_1message.html#a199b86f2300c508902839cfec0f0ba24">vistle::message::async_recv</a> (socket_t &amp;sock, message::Buffer &amp;msg, std::function&lt; void(boost::system::error_code ec, std::shared_ptr&lt; buffer &gt;)&gt; handler)</td></tr>
<tr class="separator:a199b86f2300c508902839cfec0f0ba24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a526c787928e657d5b62c787a61169880"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevistle_1_1message.html#a526c787928e657d5b62c787a61169880">vistle::message::async_recv_header</a> (socket_t &amp;sock, message::Buffer &amp;msg, std::function&lt; void(boost::system::error_code ec)&gt; handler)</td></tr>
<tr class="separator:a526c787928e657d5b62c787a61169880"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaca7b4ed7bc8d94b5420f74aaf646ff4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevistle_1_1message.html#aaca7b4ed7bc8d94b5420f74aaf646ff4">vistle::message::send</a> (socket_t &amp;sock, const message::Message &amp;msg, error_code &amp;ec, const char *payload, size_t size)</td></tr>
<tr class="separator:aaca7b4ed7bc8d94b5420f74aaf646ff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf76f46e1bddd00cdc9dcff98bade5c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevistle_1_1message.html#aadf76f46e1bddd00cdc9dcff98bade5c">vistle::message::send</a> (socket_t &amp;sock, const message::Message &amp;msg, error_code &amp;ec, const buffer *payload)</td></tr>
<tr class="separator:aadf76f46e1bddd00cdc9dcff98bade5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37a8ed6fd326039e0e952ab970a04c90"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevistle_1_1message.html#a37a8ed6fd326039e0e952ab970a04c90">vistle::message::send</a> (socket_t &amp;sock, const Message &amp;msg, const buffer *payload)</td></tr>
<tr class="separator:a37a8ed6fd326039e0e952ab970a04c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8771447b72ac82507a3ab2714209363"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevistle_1_1message.html#af8771447b72ac82507a3ab2714209363">vistle::message::async_send</a> (socket_t &amp;sock, const message::Message &amp;msg, std::shared_ptr&lt; buffer &gt; payload, const std::function&lt; void(error_code ec)&gt; handler)</td></tr>
<tr class="separator:af8771447b72ac82507a3ab2714209363"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a4bb70a04230ddb92863d3f062f416"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevistle_1_1message.html#ad7a4bb70a04230ddb92863d3f062f416">vistle::message::async_send</a> (socket_t &amp;sock, const message::Message &amp;msg, const MessagePayload &amp;payload, const std::function&lt; void(error_code ec)&gt; handler)</td></tr>
<tr class="separator:ad7a4bb70a04230ddb92863d3f062f416"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84fdf0228e563f9f9be8812972ff94e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevistle_1_1message.html#a84fdf0228e563f9f9be8812972ff94e8">vistle::message::async_forward</a> (socket_t &amp;sock, const message::Message &amp;msg, std::shared_ptr&lt; socket_t &gt; payloadSock, const std::function&lt; void(error_code ec)&gt; handler)</td></tr>
<tr class="separator:a84fdf0228e563f9f9be8812972ff94e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7457141e1a0fcb8cdc88378ea97141eb"><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevistle_1_1message.html#a7457141e1a0fcb8cdc88378ea97141eb">vistle::message::buffersize</a> = 16384</td></tr>
<tr class="separator:a7457141e1a0fcb8cdc88378ea97141eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8adfd9e4460fd427c10b1fb3f774f762" name="a8adfd9e4460fd427c10b1fb3f774f762"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8adfd9e4460fd427c10b1fb3f774f762">&#9670;&nbsp;</a></span>PRINT_MESSAGE_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PRINT_MESSAGE_TYPE</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
